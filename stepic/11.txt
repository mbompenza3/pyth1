RO502326304CN

ПЯ0005674  
  /uc UpdateDBConfiguration

  \buh\work\1c_sql\бухг2012

flickr key
5b6a2fdf540f35fb7d421b32c6838298

Формат(ДоговорКонтрагента.Дата,"ДЛФ=Д")

S:\ELEKTRA\lock\opozdun

Рама для перевозки генератора СТС-1370-750
913 188,28

С02СЭ009998

cmd

Здравствуйте.
Работникам склада требуется доработка т.ч. в документе перемещения товаров был реквизит «Статус отгрузки» (недоступный для редактирования пользователям), который автоматически принимает  значения «Не отгружен» (если нет проведенного расходного ордера), «Частично отгружен» (если в созданном на основании и проведенном расходном ордере только часть товаров из перемещения ), «Отгружен» (если все товары есть в созданном на основании и проведенном расходном ордере) .  
В старой конфигурации было реализовано как на скрине 
s401-db-1c
eus2

{Документ.МТ_РеестрЗаявок.Форма.ФормаДокумента.Форма(3370)}: Поле объекта не обнаружено (РасшифровкаПлатежа)
				Строка2.ИсточникПлатежа = ?(Строка2.ЭкземплярОтчета.РасшифровкаПлатежа.Количество()<>0,Строка1.ЭкземплярОтчета.РасшифровкаПлатежа[0].ИсточникПлатежа,Справочники.МТ_ИсточникиПлатежей.ПустаяСсылка());



ВЫБРАТЬ
	ВложенныйЗапрос.Склад КАК Склад,
	ВложенныйЗапрос.Номенклатура КАК Номенклатура,
	ВложенныйЗапрос.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	ВложенныйЗапрос.Качество КАК Качество,
	СУММА(ВложенныйЗапрос.КоличествоОстаток - ВложенныйЗапрос.КоличествоКПередаче) КАК КоличествоОстаток
{ВЫБРАТЬ
	Склад,
	Номенклатура,
	ХарактеристикаНоменклатуры,
	Качество}
ИЗ
	(ВЫБРАТЬ
		ТоварыНаСкладахОстатки.Склад КАК Склад,
		ТоварыНаСкладахОстатки.Номенклатура КАК Номенклатура,
		ТоварыНаСкладахОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
		ТоварыНаСкладахОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
		ТоварыНаСкладахОстатки.Качество КАК Качество,
		НЕОПРЕДЕЛЕНО КАК ДокументОснование,
		ТоварыНаСкладахОстатки.КоличествоОстаток КАК КоличествоОстаток,
		0 КАК КоличествоВРезерве,
		0 КАК КоличествоКПолучению,
		0 КАК КоличествоКПередаче,
		0 КАК КоличествоЗаказаноУПоставщиков
	ИЗ
		РегистрНакопления.ТоварыНаСкладах.Остатки(&ДатаКон, {(Склад).* КАК Склад, (Номенклатура).* КАК Номенклатура, (ХарактеристикаНоменклатуры).* КАК ХарактеристикаНоменклатуры, (СерияНоменклатуры).* КАК СерияНоменклатуры}) КАК ТоварыНаСкладахОстатки
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		ТоварыКПередачеСоСкладовОстатки.Склад,
		ТоварыКПередачеСоСкладовОстатки.Номенклатура,
		ТоварыКПередачеСоСкладовОстатки.ХарактеристикаНоменклатуры,
		ТоварыКПередачеСоСкладовОстатки.СерияНоменклатуры,
		ТоварыКПередачеСоСкладовОстатки.Качество,
		ТоварыКПередачеСоСкладовОстатки.ДокументПередачи,
		0,
		0,
		0,
		ТоварыКПередачеСоСкладовОстатки.КоличествоОстаток,
		0
	ИЗ
		РегистрНакопления.ТоварыКПередачеСоСкладов.Остатки(&ДатаКон, {(Склад).* КАК Склад, (Номенклатура).* КАК Номенклатура, (ХарактеристикаНоменклатуры).* КАК ХарактеристикаНоменклатуры, (СерияНоменклатуры).* КАК СерияНоменклатуры, (Качество).* КАК Качество, (ДокументПередачи).* КАК ДокументОснование}) КАК ТоварыКПередачеСоСкладовОстатки) КАК ВложенныйЗапрос

СГРУППИРОВАТЬ ПО
	ВложенныйЗапрос.Склад,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.ХарактеристикаНоменклатуры,
	ВложенныйЗапрос.Качество